# ○○農園 米直販サイト（ポートフォリオ）

個人農家向けの「米の直販サイト」を想定したポートフォリオです。
単なる静的サイトではなく、**注文受付〜発送ステータス管理 / お問い合わせ管理**など、実運用の業務フローを意識して実装しています。

**本プロジェクトの特徴：**
- 💼 副業案件獲得を目的とした、**実案件レベルのEC体験**を再現
- 🔄 バックエンドなしでも、**業務フロー（注文・問い合わせ・対応）**が完結
- 🚀 将来の拡張（WordPress化 / API化 / 決済連携）を前提とした設計

---

## 📋 プロジェクト概要

### 目的
副業Web制作の案件獲得に向けて、**クライアントワークと同等の品質**でポートフォリオを作成。
「ただ見た目が良いサイト」ではなく、**実際の運用フローを体験できる実践的なサイト**を目指しています。

### デモ環境
- **公開形式**：ローカル環境で閲覧（静的サイト）
- **データ保存**：localStorage（疑似データベース）
- **想定クライアント**：個人農家、小規模事業者

---

## 👥 想定ユーザー

### 購入者（一般ユーザー）
- 米を購入し、注文状態（受付 / 準備中 / 発送済み）を把握したい
- スマホ・PCどちらでも快適に利用したい

### 管理者（農家・運営者）
- 注文の状態管理、お問い合わせ対応を効率よく行いたい
- 専門知識がなくても操作できるシンプルな管理画面が欲しい

---

## ✅ 実装済み機能

### 🛍️ フロントエンド（購入者向け）

#### トップページ（index.html）
- ヒーローセクション（訴求コピー・導線設計）
- おすすめ商品カード（3件）
- こだわり紹介セクション
- お知らせ一覧
- CTAセクション（商品一覧への導線）

#### 商品一覧ページ（products.html）
- **データ駆動型の商品表示**（全6商品：つや姫、ひとめぼれ、ササニシキ - 各5kg/10kg）
- **絞り込み機能**（銘柄 / 容量 / 在庫状態）
- **並び替え機能**（人気順 / 価格昇順・降順）
- 商品件数表示・検索結果なしメッセージ

#### 商品詳細ページ（product-detail.html）
- URLパラメータによる商品識別（例：`?id=tsuyahime-5kg`）
- 画像ギャラリー（複数画像がある場合サムネイル切り替え）
- 商品特徴リスト、炊き方のコツ
- 関連商品表示（同銘柄の別サイズ提案）
- **在庫0の場合は購入ボタン無効化**
- **動的SEO対策**（タイトル・メタタグ自動更新）

#### 注文ページ（order.html）
- 商品情報・数量選択（在庫チェック付き）
- 顧客情報入力（氏名 / メール / 電話番号）
- 配送先情報入力（郵便番号 / 住所 / **配送希望日** / 備考）
- **支払方法選択**（クレジットカード / 代金引換 / QR決済）
- 注文サマリー（小計 / 送料 / 合計金額、1万円以上送料無料）
- **注文番号自動発行**（例：ORD20250101123456789）
- **注文完了モーダル**（ステータス表示 / 今後の流れ / 管理画面への導線）
- localStorage保存機能

#### お問い合わせページ（contact.html）
- お問い合わせフォーム（名前 / メール / 種別 / メッセージ）
- **バリデーション機能**（必須項目チェック / メール形式チェック / 文字数チェック）
- **お問い合わせ番号自動発行**（例：CNT20250101123456789）
- 送信完了モーダル表示
- お問い合わせ情報表示（電話番号 / 所在地 / 営業時間）

### 🔧 バックエンド（管理者向け）

#### 管理画面（admin.html）

**注文管理機能：**
- 注文一覧表示（テーブル形式）
- **統計情報ダッシュボード**（総注文数 / ステータス別件数）
- **検索機能**（注文番号 / 顧客名でリアルタイム検索）
- **ステータス絞り込み**（すべて / 注文受付 / 発送準備中 / 発送済み / キャンセル）
- **注文詳細モーダル**（基本情報 / 商品情報 / 顧客情報 / 配送先情報 / 支払情報）
- **ステータス変更機能**（セレクトボックス + 更新ボタン方式、確認ダイアログ付き）

**お問い合わせ管理機能：**
- お問い合わせ一覧表示（テーブル形式）
- **統計情報ダッシュボード**（総件数 / 未対応 / 対応済み）
- **検索機能**（名前 / メールアドレスでリアルタイム検索）
- **ステータス絞り込み**（すべて / 未対応 / 対応済み）
- **詳細モーダル**（基本情報 / お客様情報 / お問い合わせ内容）
- **ステータス変更機能**（未対応 ⇄ 対応済み）

---

## 🔒 セキュリティ・品質面の配慮

### XSS対策（クロスサイトスクリプティング防止）
- ユーザー入力を直接HTMLとして差し込まず、`textContent` プロパティで安全に表示
- `escapeHtml()` 関数による入力値のエスケープ処理
- `sanitizeInput()` 関数によるHTMLタグの無害化

### 入力バリデーション
- 必須項目チェック（名前 / メール / 住所 等）
- メールアドレス形式検証（`@` および `.` の存在確認）
- 数値範囲チェック（注文数量は在庫数以下）
- 文字数制限（お問い合わせ内容は10文字以上）

### 破壊的操作の確認
- ステータス変更時に確認ダイアログ表示
- データ削除時に確認ダイアログ表示（「すべての注文をクリア」など）

### データ整合性
- 注文番号・お問い合わせ番号の一意性保証（タイムスタンプ + ランダム値）
- 在庫数を超える注文の防止（UI制御 + バリデーション）

---

## 🛠️ 技術スタック

| 項目 | 技術 |
|-----|-----|
| **フロントエンド** | HTML5 / CSS3 / JavaScript（ES6+ Vanilla） |
| **レイアウト** | Flexbox / CSS Grid |
| **データ管理** | localStorage（疑似データベース） |
| **デザイン** | レスポンシブ対応（モバイルファースト） |
| **画像** | JPG（写真）/ SVG（アイコン）※プレースホルダ |

---

## 🚀 ローカル起動方法

### 方法1: 直接ファイルを開く（簡易確認）

プロジェクトルートで以下のコマンドを実行（Windows PowerShell）：

```powershell
# トップページを開く
start index.html

# 商品一覧ページを開く
start products.html

# 管理画面を開く
start admin.html
```

### 方法2: 簡易サーバー経由（推奨）

localStorage が正しく動作し、相対パスの読み込みも確実です。

#### Python を使用する場合
```powershell
# プロジェクトディレクトリに移動
cd site-work

# サーバー起動
python -m http.server 8000

# ブラウザで以下にアクセス
# http://localhost:8000/index.html
# http://localhost:8000/products.html
# http://localhost:8000/admin.html
```

#### VS Code Live Server を使用する場合
1. VS Codeで本プロジェクトを開く
2. `index.html` を右クリック → "Open with Live Server"

---

## 📂 ディレクトリ構成

```
site-work/
├── index.html              # トップページ
├── products.html           # 商品一覧
├── product-detail.html     # 商品詳細
├── order.html              # 注文ページ
├── contact.html            # お問い合わせ
├── admin.html              # 管理画面
├── css/
│   ├── reset.css          # リセットCSS
│   ├── style.css          # メインスタイル（全ページ共通）
│   └── admin.css          # 管理画面専用スタイル
├── js/
│   ├── main.js            # 商品一覧（絞り込み・並び替え）
│   ├── product-detail.js  # 商品詳細ページ用
│   ├── order.js           # 注文処理（localStorage管理）
│   ├── contact.js         # お問い合わせ処理
│   ├── admin.js           # 管理画面（注文・お問い合わせ管理）
│   └── data/
│       └── products.js    # 商品マスターデータ（全ページ共通）
├── images/
│   ├── hero/              # ヒーロー画像
│   ├── products/          # 商品画像（プレースホルダ）
│   └── icons/             # アイコン類
└── docs/
    └── README.md          # このファイル
```

---

## 🔄 今後の拡張方針

本サイトは静的サイトですが、以下の拡張により**実運用レベルのECサイト**へ成長可能です：

### 1. WordPress化
**目的**：クライアントが自分で商品・お知らせを更新できるようにする

**実装方法**：
- 現在のHTML/CSSをWordPressカスタムテーマとして移植
- カスタム投稿タイプで商品を管理
- Advanced Custom Fields（ACF）で商品情報（価格、在庫、特徴など）を設定

**メリット**：非エンジニアでも商品管理が可能

### 2. バックエンドAPI + データベース実装
**目的**：本格的なECサイトとして運用する

**技術案**：
- バックエンド：Node.js + Express / Next.js / PHP（Laravel）
- データベース：PostgreSQL / MySQL
- API設計：RESTful API または GraphQL

**主要機能**：
- 商品マスタ管理API
- 注文処理API（注文作成、ステータス更新、履歴取得）
- 在庫管理API（リアルタイム在庫同期）
- 顧客管理API（会員登録、ログイン、注文履歴）

### 3. 決済API統合（Stripe / PayPay）
**目的**：実際の決済処理を行う

**推奨サービス**：Stripe（手数料3.6%、導入が容易、PCI DSS準拠）

**実装手順**：
1. Stripeアカウント作成
2. Stripe Checkout または Payment Intent API を使用
3. order.html に Stripe.js を組み込み
4. バックエンドでWebhookを受信して注文確定処理

### 4. 管理画面の高度化
**拡張機能**：
- 認証：JWT（JSON Web Token）またはセッション管理
- 権限管理：管理者 / スタッフ / 閲覧のみ など
- API化：注文一覧取得API、ステータス更新API、統計情報API
- CSVエクスポート（注文データ / お問い合わせデータ）

### 5. その他の拡張案
- **メール通知**：注文確認メール、発送通知メール（SendGrid / Amazon SES）
- **在庫連動**：注文時に自動で在庫を減算
- **会員機能**：マイページ、注文履歴、お気に入り商品
- **レビュー機能**：商品レビュー・評価の投稿
- **定期購入**：サブスクリプション機能（月1回自動配送）
- **クーポン機能**：割引クーポンコード入力

---

## 🎨 デザイン・カラーパレット

| 用途 | カラーコード | 説明 |
|------|-------------|------|
| プライマリ | `#2d5016` | 深緑（メイン） |
| プライマリ（濃） | `#1f3910` | より深い緑 |
| セカンダリ | `#7fb069` | ライトグリーン |
| アクセント | `#e67e22` | オレンジ（ボタン等） |
| テキスト | `#333` | ダークグレー |
| テキスト（薄） | `#666` | ミディアムグレー |

---

## 🧪 動作確認手順（ユーザーフロー）

### 基本的な購入フロー

1. **トップページ** → 「商品を見る」ボタンから商品一覧へ
2. **商品一覧ページ** → 絞り込み・並び替え → 「詳細を見る」ボタンをクリック
3. **商品詳細ページ** → 商品情報確認 → 「購入へ進む」ボタンをクリック
4. **注文ページ** → 顧客情報・配送先・支払方法入力 → 「注文を確定する」ボタンをクリック
5. **注文完了モーダル** → 注文番号発行 → localStorageに保存

### 管理画面での注文管理フロー

1. **管理画面を開く** → 統計情報（総注文数、ステータス別件数）を確認
2. **注文一覧を確認** → 検索・フィルタリング機能を試す
3. **注文詳細を確認** → 「詳細」ボタンをクリック → モーダルで全情報を確認
4. **ステータスを変更** → セレクトボックスで新ステータス選択 → 「更新」ボタンをクリック
5. **統計情報が自動更新**される

### お問い合わせ管理フロー

1. **お問い合わせページ** → フォーム入力 → 送信
2. **管理画面** → お問い合わせ一覧を確認
3. **詳細モーダル** → お問い合わせ内容を確認
4. **ステータス変更** → 「未対応」→「対応済み」に更新

---

## 🔧 トラブルシューティング

### 商品が表示されない
- ブラウザのコンソールでエラーを確認
- `js/data/products.js` が正しく読み込まれているか確認
- サーバー経由でアクセスしているか確認（`file://` ではなく `http://`）

### 注文データが保存されない
- ブラウザのlocalStorageが有効か確認
- プライベートブラウジングモードでは動作しない
- ブラウザコンソールで `localStorage.getItem('orders')` を実行して確認

### 管理画面に注文が表示されない
- 先に注文を作成してください（order.htmlから注文）
- 同一ブラウザで注文→管理画面アクセスの順で操作

---

## 📌 このポートフォリオのアピールポイント

✅ **業務フロー理解**：単なる見た目だけでなく、注文〜発送管理、問い合わせ対応といった**実運用の業務フロー**を再現。クライアントワークで必要な「運用視点」を理解しています。

✅ **拡張性重視の設計**：localStorage を使った疑似DB構成により、将来的に WordPress 化や API 化する際も**最小限の改修で移行可能**。技術選定の柔軟性を示しています。

✅ **セキュリティ意識**：XSS対策、バリデーション、確認ダイアログなど、**安全性と品質**を重視した実装。副業案件でも「信頼できる制作者」としてアピールできます。

---

## 📝 ライセンス

このプロジェクトはポートフォリオ用途です。

---

## 📅 更新履歴

- **2025-01-01**: プロジェクト初期化、全6ページ実装完了（index / products / product-detail / order / contact / admin）
